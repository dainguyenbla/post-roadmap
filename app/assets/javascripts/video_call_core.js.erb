// DOM Elements
let currentUser;
let localVideo;
let remoteVideoContainer;
// Ice Credentials
const ice = {
    iceServers: [{
        urls: "stun:stun.l.google.com:19302"
    }]
};


window.onload = () => {
    currentUser = $("#current-user").attr('data-cuser');
    localVideo = document.getElementById("local-video");
    remoteVideoContainer = document.getElementById("remote-video-container");
};


// Initialize user's own video
document.onreadystatechange = () => {
    if (document.readyState === "interactive") {
        navigator.mediaDevices
            .getUserMedia({
                audio: false,
                video: true
            })
            .then(stream => {
                localstream = stream;
                localVideo.srcObject = stream;
                localVideo.muted = true;
            })
            .catch(logError);
    }
};
